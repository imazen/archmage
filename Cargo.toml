[package]
name = "archmage"
version = "0.1.0"
edition = "2024"
rust-version = "1.85"
license = "MIT OR Apache-2.0"
description = "Type-safe SIMD capability tokens with composable integration for wide, safe_unaligned_simd, and multiversion"
repository = "https://github.com/imazen/archmage"
keywords = ["simd", "avx", "neon", "performance", "safe"]
categories = ["development-tools", "hardware-support", "no-std"]

[features]
default = ["std"]
std = []
# Integration features - enable separately or together
wide = ["dep:wide"]
safe-simd = ["dep:safe_unaligned_simd"]
multiversion = ["dep:multiversion"]
multiversed = ["dep:multiversed"]
# Architecture features
x86 = []
arm = []
wasm = []
# All integrations
full = ["wide", "safe-simd", "multiversion", "multiversed"]

[dependencies]
# Optional integrations
wide = { version = "1.1.1", optional = true }
safe_unaligned_simd = { version = "0.2.3", optional = true }
multiversion = { version = "0.8.0", optional = true }
multiversed = { version = "0.1.0", optional = true }

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
trybuild = "1.0"

[[bench]]
name = "tokens"
harness = false

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]
